(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{62:function(e,n,t){e.exports=t(97)},67:function(e,n,t){},97:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(28),c=t.n(o),u=(t(67),t(12)),i=t(2),l=t(3),s={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},b=t(10);function f(){var e=Object(i.a)(["\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: #fff;\n  border-radius: 2px;\n"]);return f=function(){return e},e}function m(){var e=Object(i.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return m=function(){return e},e}var d,p=l.b.div(m(),s.gray[2]),g=l.b.div(f()),v=function(e){var n=e.children;return a.a.createElement(p,null,a.a.createElement(g,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(b.b,{to:"/"},"U-Zo")),n))},O=t(13),j=t(7),h=t(5),E=t(8),y=t(9),w=t.n(y),x=t(99),k=t(98),S=t(55),I=t(11),C=Object(x.a)("loading/START_LOADING",(function(e){return e})),T=Object(x.a)("loading/FINISH_LOADING",(function(e){return e})),_=Object(k.a)((d={},Object(h.a)(d,"loading/START_LOADING",(function(e,n){return Object(E.a)({},e,Object(h.a)({},n.payload,!0))})),Object(h.a)(d,"loading/FINISH_LOADING",(function(e,n){return Object(E.a)({},e,Object(h.a)({},n.payload,!1))})),d),{}),L=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function P(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return w.a.mark((function a(o){var c;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(I.c)(C(e));case 2:return a.prev=2,a.next=5,Object(I.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(I.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(I.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(I.c)(T(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var N,D=t(54),R=t.n(D).a.create({withCredentials:!0}),A="https://u-zo-server.herokuapp.com",F=function(){return R.post("".concat(A,"/api/auth/logout"))},z=w.a.mark(ne),G=L("auth/REGISTER"),U=Object(O.a)(G,3),M=U[0],H=U[1],W=U[2],B=L("auth/LOGIN"),Z=Object(O.a)(B,3),q=Z[0],J=Z[1],Q=Z[2],$=Object(x.a)("auth/CHANGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),K=Object(x.a)("auth/INITIALIZE_FORM",(function(e){return e})),V=Object(x.a)(M,(function(e){return{username:e.username,password:e.password}})),X=Object(x.a)(q,(function(e){return{username:e.username,password:e.password}})),Y=P(M,(function(e){var n=e.username,t=e.password;return R.post("".concat(A,"/api/auth/register"),{username:n,password:t})})),ee=P(q,(function(e){var n=e.username,t=e.password;return R.post("".concat(A,"/api/auth/login"),{username:n,password:t})}));function ne(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(M,Y);case 2:return e.next=4,Object(I.d)(q,ee);case 4:case"end":return e.stop()}}),z)}var te={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},re=Object(k.a)((N={},Object(h.a)(N,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(S.a)(e,(function(e){e[r][a]=o}))})),Object(h.a)(N,"auth/INITIALIZE_FORM",(function(e,n){var t=n.payload;return Object(E.a)({},e,Object(h.a)({},t,te[t]))})),Object(h.a)(N,H,(function(e,n){var t=n.payload;return Object(E.a)({},e,{authError:null,auth:t})})),Object(h.a)(N,W,(function(e,n){var t=n.payload;return Object(E.a)({},e,{authError:t})})),Object(h.a)(N,J,(function(e,n){var t=n.payload;return Object(E.a)({},e,{authError:null,auth:t})})),Object(h.a)(N,Q,(function(e,n){var t=n.payload;return Object(E.a)({},e,{authError:t})})),N),te);function ae(){var e=Object(i.a)(["\n  ","\n"]);return ae=function(){return e},e}function oe(){var e=Object(i.a)(["\n  ","\n"]);return oe=function(){return e},e}function ce(){var e=Object(i.a)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return ce=function(){return e},e}function ue(){var e=Object(i.a)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "]);return ue=function(){return e},e}function ie(){var e=Object(i.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: #fff;\n  outline: none;\n  cursor: pointer;\n  \n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  \n  ","\n  \n  ","\n  \n  &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n"]);return ie=function(){return e},e}var le=Object(l.a)(ie(),s.gray[8],s.gray[6],(function(e){return e.fullWidth&&Object(l.a)(ue())}),(function(e){return e.cyan&&Object(l.a)(ce(),s.cyan[5],s.cyan[4])}),s.gray[3],s.gray[5]),se=l.b.button(oe(),le),be=Object(l.b)(b.b)(ae(),le),fe=function(e){return e.to?a.a.createElement(be,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(se,e)};function me(){var e=Object(i.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]);return me=function(){return e},e}function de(){var e=Object(i.a)(["\n  margin-top: 1rem;\n"]);return de=function(){return e},e}function pe(){var e=Object(i.a)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Object(i.a)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return ge=function(){return e},e}function ve(){var e=Object(i.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem; \n  }\n"]);return ve=function(){return e},e}var Oe,je={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},he=l.b.div(ve(),s.gray[8]),Ee=l.b.input(ge(),s.gray[5],s.gray[7]),ye=l.b.div(pe(),s.gray[6],s.gray[9]),we=Object(l.b)(fe)(de()),xe=l.b.div(me()),ke=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,u=je[n];return a.a.createElement(he,null,a.a.createElement("h3",null,u),a.a.createElement("form",{onSubmit:o},a.a.createElement(Ee,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(Ee,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(Ee,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(xe,null,c),a.a.createElement(we,{cyan:!0,fullWidth:!0},u)),a.a.createElement(ye,null,"login"===n?a.a.createElement(b.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(b.b,{to:"/login"},"\ub85c\uadf8\uc778")))},Se=w.a.mark(ze),Ie=w.a.mark(Ge),Ce=L("user/CHECK"),Te=Object(O.a)(Ce,3),_e=Te[0],Le=Te[1],Pe=Te[2],Ne=Object(x.a)("user/TEMP_SET_USER",(function(e){return e})),De=Object(x.a)(_e),Re=Object(x.a)("user/LOGOUT"),Ae=P(_e,(function(){return R.get("".concat(A,"/api/auth/check"))}));function Fe(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function ze(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(I.b)(F);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),Se,null,[[0,6]])}function Ge(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(_e,Ae);case 2:return e.next=4,Object(I.d)(Pe,Fe);case 4:return e.next=6,Object(I.d)("user/LOGOUT",ze);case 6:case"end":return e.stop()}}),Ie)}var Ue=Object(k.a)((Oe={},Object(h.a)(Oe,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(E.a)({},e,{user:t})})),Object(h.a)(Oe,Le,(function(e,n){var t=n.payload;return Object(E.a)({},e,{user:t,checkError:null})})),Object(h.a)(Oe,Pe,(function(e,n){var t=n.payload;return Object(E.a)({},e,{user:null,checkError:t})})),Object(h.a)(Oe,"user/LOGOUT",(function(e){return Object(E.a)({},e,{user:null})})),Oe),{user:null,checkError:null}),Me=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(O.a)(t,2),c=o[0],u=o[1],i=Object(j.b)(),l=Object(j.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),s=l.form,b=l.auth,f=l.authError,m=l.user;return Object(r.useEffect)((function(){i(K("login"))}),[i]),Object(r.useEffect)((function(){if(f)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(f),void u("\ub85c\uadf8\uc778 \uc2e4\ud328");b&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),i(De()))}),[b,f,i]),Object(r.useEffect)((function(){if(m){n.push("/");try{localStorage.setItem("user",JSON.stringify(m))}catch(e){console.log("localStorage is not working")}}}),[n,m]),a.a.createElement(ke,{type:"login",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;i($({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password;i(X({username:n,password:t}))},error:c})})),He=function(){return a.a.createElement(v,null,a.a.createElement(Me,null))},We=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(O.a)(t,2),c=o[0],u=o[1],i=Object(j.b)(),l=Object(j.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),s=l.form,b=l.auth,f=l.authError,m=l.user;return Object(r.useEffect)((function(){i(K("register"))}),[i]),Object(r.useEffect)((function(){if(f)return 409===f.response.status?void u("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."):void u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");b&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(b),i(De()))}),[b,f,i]),Object(r.useEffect)((function(){if(m){n.push("/");try{localStorage.setItem("user",JSON.stringify(m))}catch(e){console.log("localStorage is not working")}}}),[n,m]),a.a.createElement(ke,{type:"register",form:s,onChange:function(e){var n=e.target,t=n.value,r=n.name;i($({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password,r=s.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(u("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),i($({form:"register",key:"password",value:""})),void i($({form:"register",key:"passwordConfirm",value:""}))):void i(V({username:n,password:t}));u("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694.")},error:c})})),Be=function(){return a.a.createElement(v,null,a.a.createElement(We,{type:"register"}))},Ze=t(60);function qe(){var e=Object(i.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 1024px;\n  margin: 0 auto;\n  \n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return qe=function(){return e},e}var Je=l.b.div(qe()),Qe=function(e){var n=e.children,t=Object(Ze.a)(e,["children"]);return a.a.createElement(Je,t,n)},$e=t(56),Ke=t.n($e);t(94);function Ve(){var e=Object(i.a)(["\n  // \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor.ql-blank::before {\n    left: 0px;\n  }\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(i.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(i.a)(["\n  // \ud398\uc774\uc9c0 \uc704 \uc544\ub798 \uc5ec\ubc31\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"]);return Ye=function(){return e},e}var en,nn=Object(l.b)(Qe)(Ye()),tn=l.b.input(Xe(),s.gray[4]),rn=l.b.div(Ve()),an=function(e){var n=e.title,t=e.body,o=e.onChangeField,c=Object(r.useRef)(null),u=Object(r.useRef)(null);Object(r.useEffect)((function(){u.current=new Ke.a(c.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=u.current;e.on("text-change",(function(n,t,r){"user"===r&&o({key:"body",value:e.root.innerHTML})}))}),[o]);var i=Object(r.useRef)(!1);Object(r.useEffect)((function(){i.current||(i.current=!0,u.current.root.innerHTML=t)}),[t]);return a.a.createElement(nn,null,a.a.createElement(tn,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){o({key:"title",value:e.target.value})},value:n}),a.a.createElement(rn,null,a.a.createElement("div",{ref:c})))},on=t(18),cn=t.n(on),un="https://u-zo-server.herokuapp.com",ln=w.a.mark(In),sn=L("write/WRITE_POST"),bn=Object(O.a)(sn,3),fn=bn[0],mn=bn[1],dn=bn[2],pn=L("write/UPDATE_POST"),gn=Object(O.a)(pn,3),vn=gn[0],On=gn[1],jn=gn[2],hn=Object(x.a)("write/INITIALIZE"),En=Object(x.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),yn=Object(x.a)(fn,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),wn=Object(x.a)("write/SET_ORIGINAL_POST",(function(e){return e})),xn=Object(x.a)(vn,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),kn=P(fn,(function(e){var n=e.title,t=e.body,r=e.tags;return R.post("".concat(un,"/api/posts"),{title:n,body:t,tags:r})})),Sn=P(vn,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;R.patch("".concat(un,"/api/posts/").concat(n),{title:t,body:r,tags:a})}));function In(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(fn,kn);case 2:return e.next=4,Object(I.d)(vn,Sn);case 4:case"end":return e.stop()}}),ln)}var Cn={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},Tn=Object(k.a)((en={},Object(h.a)(en,"write/INITIALIZE",(function(e){return Cn})),Object(h.a)(en,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(E.a)({},e,Object(h.a)({},r,a))})),Object(h.a)(en,fn,(function(e){return Object(E.a)({},e,{post:null,postError:null})})),Object(h.a)(en,mn,(function(e,n){var t=n.payload;return Object(E.a)({},e,{post:t})})),Object(h.a)(en,dn,(function(e,n){var t=n.payload;return Object(E.a)({},e,{postError:t})})),Object(h.a)(en,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(E.a)({},e,{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(h.a)(en,On,(function(e,n){var t=n.payload;return Object(E.a)({},e,{post:t})})),Object(h.a)(en,jn,(function(e,n){var t=n.payload;return Object(E.a)({},e,{postError:t})})),en),Cn),_n=function(){var e=Object(j.b)(),n=Object(j.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,o=n.body,c=Object(r.useCallback)((function(n){return e(En(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(hn())}}),[e]),a.a.createElement(an,{onChangeField:c,title:t,body:o})},Ln=t(38);function Pn(){var e=Object(i.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return Pn=function(){return e},e}function Nn(){var e=Object(i.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return Nn=function(){return e},e}function Dn(){var e=Object(i.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; // \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654\n  input, button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n  \n  input {\n    padding: 0.5rem;\n    flex: 1;\n    min-width: 0;\n  }\n  \n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: #fff;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return Dn=function(){return e},e}function Rn(){var e=Object(i.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n  \n  h4 {\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return Rn=function(){return e},e}var An=l.b.div(Rn(),s.gray[2],s.gray[8]),Fn=l.b.form(Dn(),s.gray[9],s.gray[8],s.gray[6]),zn=l.b.div(Nn(),s.gray[6]),Gn=l.b.div(Pn()),Un=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(zn,{onClick:function(){return t(n)}},"#",n)})),Mn=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(Gn,null,n.map((function(e){return a.a.createElement(Un,{key:e,tag:e,onRemove:t})})))})),Hn=function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(O.a)(o,2),u=c[0],i=c[1],l=Object(r.useState)([]),s=Object(O.a)(l,2),b=s[0],f=s[1],m=Object(r.useCallback)((function(e){if(e&&!b.includes(e)){var n=[].concat(Object(Ln.a)(b),[e]);f([].concat(Object(Ln.a)(b),[e])),t(n)}}),[b,t]),d=Object(r.useCallback)((function(e){var n=f(b.filter((function(n){return n!==e})));f(n),t(n)}),[b,t]),p=Object(r.useCallback)((function(e){i(e.target.value)}),[]),g=Object(r.useCallback)((function(e){e.preventDefault(),m(u.trim()),i("")}),[u,m]);return Object(r.useEffect)((function(){f(n)}),[n]),a.a.createElement(An,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Fn,{onSubmit:g},a.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:u,onChange:p}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(Mn,{tags:b,onRemove:d}))},Wn=function(){var e=Object(j.b)(),n=Object(j.c)((function(e){return e.write.tags}));return a.a.createElement(Hn,{onChangeTags:function(n){e(En({key:"tags",value:n}))},tags:n})};function Bn(){var e=Object(i.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]);return Bn=function(){return e},e}function Zn(){var e=Object(i.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return Zn=function(){return e},e}var qn=l.b.div(Zn()),Jn=Object(l.b)(fe)(Bn()),Qn=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(qn,null,a.a.createElement(Jn,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(Jn,{onClick:n},"\ucde8\uc18c"))},$n=Object(u.e)((function(e){var n=e.history,t=Object(j.b)(),o=Object(j.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),c=o.title,u=o.body,i=o.tags,l=o.post,s=o.postError,b=o.originalPostId;return Object(r.useEffect)((function(){if(l){var e=l._id,t=l.user;n.push("/@".concat(t.username,"/").concat(e))}s&&console.log(s)}),[n,l,s]),a.a.createElement(Qn,{onPublish:function(){t(b?xn({title:c,body:u,tags:i,id:b}):yn({title:c,body:u,tags:i}))},onCancel:function(){n.goBack()},isEdit:!!b})}));function Kn(){var e=Object(i.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]);return Kn=function(){return e},e}function Vn(){var e=Object(i.a)(["\n  height: 4rem;\n"]);return Vn=function(){return e},e}function Xn(){var e=Object(i.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; // \uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 800;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(i.a)(["\n  position: fixed;\n  width: 100%;\n  background: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\n"]);return Yn=function(){return e},e}var et,nt=l.b.div(Yn()),tt=Object(l.b)(Qe)(Xn()),rt=l.b.div(Vn()),at=l.b.div(Kn()),ot=function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(nt,null,a.a.createElement(tt,null,a.a.createElement(b.b,{to:"/",className:"logo"},"U-Zo"),n?a.a.createElement("div",{className:"right"},a.a.createElement(at,null,n.username),a.a.createElement(fe,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(fe,{to:"/login"},"\ub85c\uadf8\uc778")))),a.a.createElement(rt,null))},ct=function(){var e=Object(j.c)((function(e){return{user:e.user.user}})).user,n=Object(j.b)();return a.a.createElement(ot,{user:e,onLogout:function(){n(Re())}})},ut=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ct,null),a.a.createElement(Qe,null,a.a.createElement(_n,null),a.a.createElement(Wn,null),a.a.createElement($n,null)))},it=t(57),lt=w.a.mark(Ot),st=L("post/READ_POST"),bt=Object(O.a)(st,3),ft=bt[0],mt=bt[1],dt=bt[2],pt=Object(x.a)(ft,(function(e){return e})),gt=Object(x.a)("post/UNLOAD_POST"),vt=P(ft,(function(e){return R.get("".concat(un,"/api/posts/").concat(e))}));function Ot(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(ft,vt);case 2:case"end":return e.stop()}}),lt)}var jt={post:null,error:null},ht=Object(k.a)((et={},Object(h.a)(et,mt,(function(e,n){var t=n.payload;return Object(E.a)({},e,{post:t})})),Object(h.a)(et,dt,(function(e,n){var t=n.payload;return Object(E.a)({},e,{error:t})})),Object(h.a)(et,"post/UNLOAD_POST",(function(){return jt})),et),jt);function Et(){var e=Object(i.a)(["\n      margin-top: 1rem;\n    "]);return Et=function(){return e},e}function yt(){var e=Object(i.a)(["\n  ",";\n  color: ",";\n  \n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: ''; // \uac00\uc6c3\ub383 \uc810 \ubb38\uc790\n  }\n"]);return yt=function(){return e},e}var wt=l.b.div(yt(),(function(e){return e.hasMarginTop&&Object(l.a)(Et())}),s.gray[6],s.gray[4]),xt=function(e){var n=e.username,t=e.publishedDate,r=e.hasMarginTop;return a.a.createElement(wt,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(b.b,{to:"/@".concat(n)},n))),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function kt(){var e=Object(i.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return kt=function(){return e},e}var St=l.b.div(kt(),s.cyan[7],s.cyan[6]),It=function(e){var n=e.tags;return a.a.createElement(St,null,n.map((function(e){return a.a.createElement(b.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))};function Ct(){var e=Object(i.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"]);return Ct=function(){return e},e}function Tt(){var e=Object(i.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return Tt=function(){return e},e}function _t(){var e=Object(i.a)(["\n  margin-top: 4rem;\n"]);return _t=function(){return e},e}var Lt=Object(l.b)(Qe)(_t()),Pt=l.b.div(Tt(),s.gray[2]),Nt=l.b.div(Ct(),s.gray[8]),Dt=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons;if(t)return t.response&&404===t.response.data?a.a.createElement(Lt,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(Lt,null,"\uc624\ub958 \ubc1c\uc0dd!");if(r||!n)return null;var c=n.title,u=n.body,i=n.user,l=n.publishedDate,s=n.tags;return a.a.createElement(Lt,null,a.a.createElement(Pt,null,a.a.createElement("h1",null,c),a.a.createElement(xt,{username:i.username,publishedDate:l,hasMarginTop:!0}),a.a.createElement(It,{tags:s})),o,a.a.createElement(Nt,{dangerouslySetInnerHTML:{__html:u}}))};function Rt(){var e=Object(i.a)(["\n  height: 2rem;\n  \n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return Rt=function(){return e},e}function At(){var e=Object(i.a)(["\n  width: 320px;\n  background: #fff;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  \n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  \n  p {\n    margin-bottom: 3rem;\n  }\n  \n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return At=function(){return e},e}function Ft(){var e=Object(i.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ft=function(){return e},e}var zt=l.b.div(Ft()),Gt=l.b.div(At()),Ut=Object(l.b)(fe)(Rt()),Mt=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,u=e.cancelText,i=void 0===u?"\ucde8\uc18c":u,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(zt,null,a.a.createElement(Gt,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(Ut,{onClick:s},i),a.a.createElement(Ut,{cyan:!0,onClick:l},c)))):null},Ht=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(Mt,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function Wt(){var e=Object(i.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return Wt=function(){return e},e}function Bt(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return Bt=function(){return e},e}var Zt=l.b.div(Bt()),qt=l.b.div(Wt(),s.gray[6],s.gray[1],s.cyan[7]),Jt=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(O.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zt,null,a.a.createElement(qt,{onClick:n},"\uc218\uc815"),a.a.createElement(qt,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(Ht,{visible:u,onConfirm:function(){i(!1),t()},onCancel:function(){i(!1)}}))},Qt=Object(u.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(j.b)(),u=Object(j.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),i=u.post,l=u.error,s=u.loading,b=u.user;Object(r.useEffect)((function(){return c(pt(o)),function(){c(gt())}}),[c,o]);var f=function(){var e=Object(it.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,R.delete("".concat(un,"/api/posts/").concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),m=(b&&b._id)===(i&&i.user._id);return a.a.createElement(Dt,{post:i,loading:s,error:l,actionButtons:m&&a.a.createElement(Jt,{onEdit:function(){c(wn(i)),t.push("/write")},onRemove:f})})})),$t=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ct,null),a.a.createElement(Qt,null))};function Kt(){var e=Object(i.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n  \n  h2 {\n    font-size: 2rem;\n    margin-bottom: 0;\n    margin-top: 0;\n    &:hover {\n      color: ",";\n    }\n  }\n  \n  p {\n    margin-top: 2rem;\n  }\n"]);return Kt=function(){return e},e}function Vt(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return Vt=function(){return e},e}function Xt(){var e=Object(i.a)(["\n  margin-top: 3rem;\n"]);return Xt=function(){return e},e}var Yt,er=Object(l.b)(Qe)(Xt()),nr=l.b.div(Vt()),tr=l.b.div(Kt(),s.gray[2],s.gray[6]),rr=function(e){var n=e.post,t=n.publishedDate,r=n.user,o=n.tags,c=n.title,u=n.body,i=n._id;return a.a.createElement(tr,null,a.a.createElement("h2",null,a.a.createElement(b.b,{to:"/@".concat(r.username,"/").concat(i)},c)),a.a.createElement(xt,{username:r.username,publishedDate:new Date(t)}),a.a.createElement(It,{tags:o}),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:u}}))},ar=function(e){var n=e.posts,t=e.loading,r=e.error,o=e.showWriteButton;return r?a.a.createElement(er,null,"\uc5d0\ub7ec \ubc1c\uc0dd"):a.a.createElement(er,null,a.a.createElement(nr,null,o&&a.a.createElement(fe,{cyan:!0,to:"/write"},"\uc0c8 \uae00 \uc791\uc131\ud558\uae30")),!t&&n&&a.a.createElement("div",null,n.map((function(e){return a.a.createElement(rr,{post:e,key:e._id})}))))},or=w.a.mark(mr),cr=L("posts/LIST_POSTS"),ur=Object(O.a)(cr,3),ir=ur[0],lr=ur[1],sr=ur[2],br=Object(x.a)(ir,(function(e){return{tag:e.tag,username:e.username,page:e.page}})),fr=P(ir,(function(e){var n=e.page,t=e.username,r=e.tag,a=cn.a.stringify({page:n,username:t,tag:r});return R.get("".concat(un,"/api/posts?").concat(a))}));function mr(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(ir,fr);case 2:case"end":return e.stop()}}),or)}var dr=Object(k.a)((Yt={},Object(h.a)(Yt,lr,(function(e,n){var t=n.payload,r=n.meta;return Object(E.a)({},e,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(h.a)(Yt,sr,(function(e,n){var t=n.payload;return Object(E.a)({},e,{error:t})})),Yt),{posts:null,error:null,lastPage:1}),pr=Object(u.e)((function(e){var n=e.location,t=e.match,o=Object(j.b)(),c=Object(j.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),u=c.posts,i=c.error,l=c.loading,s=c.user;return Object(r.useEffect)((function(){var e=t.params.username,r=cn.a.parse(n.search,{ignoreQueryPrefix:!0}),a=r.tag,c=r.page;o(br({tag:a,username:e,page:c}))}),[o,n.search,t.params]),a.a.createElement(ar,{loading:l,error:i,posts:u,showWriteButton:s})}));function gr(){var e=Object(i.a)([""]);return gr=function(){return e},e}function vr(){var e=Object(i.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]);return vr=function(){return e},e}var Or=l.b.div(vr()),jr=l.b.div(gr()),hr=function(e){var n=e.username,t=e.tag,r=e.page,a=cn.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},Er=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement(Or,null,a.a.createElement(fe,{disabled:1===n,to:1===n?void 0:hr({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(jr,null,n),a.a.createElement(fe,{disabled:n===t,to:n===t?void 0:hr({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))},yr=Object(u.e)((function(e){var n=e.location,t=e.match,r=Object(j.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),o=r.lastPage,c=r.posts,u=r.loading;if(!c||u)return null;var i=t.params.username,l=cn.a.parse(n.search,{ignoreQueryPrefix:!0}),s=l.tag,b=l.page,f=void 0===b?1:b;return a.a.createElement(Er,{tag:s,username:i,page:parseInt(f,10),lastPage:o})})),wr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ct,null),a.a.createElement(pr,null),a.a.createElement(yr,null))},xr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{component:wr,path:["/@:username","/"],exact:!0}),a.a.createElement(u.a,{component:He,path:"/login"}),a.a.createElement(u.a,{component:Be,path:"/register"}),a.a.createElement(u.a,{component:ut,path:"/write"}),a.a.createElement(u.a,{component:$t,path:"/@:username/:postId"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kr=t(17),Sr=t(58),Ir=t(59),Cr=w.a.mark(Tr);function Tr(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([ne(),Ge(),In(),Ot(),mr()]);case 2:case"end":return e.stop()}}),Cr)}var _r=Object(kr.combineReducers)({auth:re,loading:_,user:Ue,write:Tn,post:ht,posts:dr}),Lr=Object(Ir.a)(),Pr=Object(kr.createStore)(_r,Object(Sr.composeWithDevTools)(Object(kr.applyMiddleware)(Lr)));Lr.run(Tr),function(){try{var e=localStorage.getItem("user");if(!e)return;Pr.dispatch(Ne(e)),Pr.dispatch(De())}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(j.a,{store:Pr},a.a.createElement(b.a,{basename:"/blog"},a.a.createElement(xr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.5710ccbd.chunk.js.map